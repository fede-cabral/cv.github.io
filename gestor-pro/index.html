Perfecto.
Te armo TODO el c√≥digo completo, limpio, corregido y profesional, listo para copiar y pegar.

Incluye:

‚úÖ Login por usuario

‚úÖ Datos separados por usuario

‚úÖ Formato 1.000 / 1.000.000

‚úÖ Presupuesto mensual

‚úÖ Balance autom√°tico

‚úÖ Gr√°fico

‚úÖ Exportar a Excel

‚úÖ Sin errores de DOM

‚úÖ Sin duplicaciones

üìÑ COPI√Å Y PEG√Å TODO ESTO EN TU HTML
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Gestor Pro - FORJAX</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

<style>

body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:#111;
    color:white;
}

header{
    background:#1f2937;
    padding:20px;
    text-align:center;
}

h1{margin:0}

main{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
    gap:20px;
    padding:20px;
}

.card{
    background:#1f2937;
    padding:20px;
    border-radius:12px;
}

.card.wide{
    grid-column:span 2;
}

input, select{
    width:100%;
    padding:8px;
    margin-bottom:10px;
    border:none;
    border-radius:6px;
}

button{
    width:100%;
    padding:10px;
    border:none;
    border-radius:6px;
    background:#3b82f6;
    color:white;
    cursor:pointer;
}

button:hover{opacity:0.8}

ul{list-style:none;padding:0}

li{
    background:#374151;
    padding:8px;
    margin-bottom:5px;
    border-radius:6px;
    cursor:pointer;
}

footer{
    text-align:center;
    padding:15px;
    background:#1f2937;
}

.login{
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    height:100vh;
}

.logout-btn{
    background:#ef4444;
    width:auto;
    padding:8px 20px;
    margin-top:10px;
}

.btn-export{
    background:#22c55e;
    margin-bottom:10px;
}

</style>
</head>
<body>

<div id="loginScreen" class="login">
    <h2>üîê Gestor Pro - FORJAX</h2>
    <input id="userInput" placeholder="Usuario">
    <button onclick="login()">Entrar</button>
</div>

<div id="app">

<header>
    <h1>üìä Gestor Personal Pro</h1>
    <button onclick="logout()" class="logout-btn">Cerrar Sesi√≥n</button>
</header>

<main>

<!-- INGRESOS -->
<section class="card">
<h2>üíº Ingresos</h2>
<input id="incomeDesc" placeholder="Descripci√≥n">
<input id="incomeAmount" type="number" placeholder="Monto">
<button onclick="addIncome()">Agregar</button>
<ul id="incomeList"></ul>
<p>Total: $<span id="incomeTotal">0</span></p>
</section>

<!-- GASTOS -->
<section class="card">
<h2>üí∞ Gastos</h2>
<input id="descInput" placeholder="Descripci√≥n">
<select id="categoryInput">
<option>Comida</option>
<option>Servicios</option>
<option>Transporte</option>
<option>Estudio</option>
<option>Otros</option>
</select>
<input id="amountInput" type="number" placeholder="Monto">
<button onclick="addExpense()">Agregar</button>
<ul id="expenseList"></ul>
<p>Total: $<span id="expenseTotal">0</span></p>
</section>

<!-- PRESUPUESTO -->
<section class="card">
<h2>üìÖ Presupuesto Mensual</h2>
<input type="number" id="budgetInput" placeholder="Presupuesto del mes">
<button onclick="setBudget()">Guardar</button>
<p>Presupuesto: $<span id="budgetTotal">0</span></p>
<p>Disponible: $<span id="budgetAvailable">0</span></p>
</section>

<!-- BALANCE -->
<section class="card wide">
<h2>üìà Balance General</h2>
<button onclick="exportExcel()" class="btn-export">Descargar Excel</button>
<p>Ingresos: $<span id="bIncome">0</span></p>
<p>Gastos: $<span id="bExpense">0</span></p>
<h3 id="balanceText"></h3>
<canvas id="chart"></canvas>
</section>

</main>

<footer>
FORJAX ¬© 2026
</footer>

</div>

<script>

/* ========= LOGIN ========= */

let currentUser = localStorage.getItem("currentUser");

const app = document.getElementById("app");
const loginScreen = document.getElementById("loginScreen");

if(!currentUser){
    app.style.display="none";
}else{
    loginScreen.style.display="none";
}

function login(){
    const user=document.getElementById("userInput").value.trim();
    if(user.length<3){
        alert("Usuario m√≠nimo 3 caracteres");
        return;
    }
    localStorage.setItem("currentUser",user.toLowerCase());
    location.reload();
}

function logout(){
    localStorage.removeItem("currentUser");
    location.reload();
}

/* ========= DATOS ========= */

const prefix = currentUser + "_";

let incomes = JSON.parse(localStorage.getItem(prefix+"incomes")) || [];
let expenses = JSON.parse(localStorage.getItem(prefix+"expenses")) || [];
let budget = Number(localStorage.getItem(prefix+"budget")) || 0;

/* ========= FORMATO ========= */

function formatMoney(value){
    return Number(value).toLocaleString("es-AR");
}

/* ========= GUARDAR ========= */

function saveData(){
    localStorage.setItem(prefix+"incomes",JSON.stringify(incomes));
    localStorage.setItem(prefix+"expenses",JSON.stringify(expenses));
    localStorage.setItem(prefix+"budget",budget);
}

/* ========= RENDER ========= */

let chart;

function render(){

let incomeList=document.getElementById("incomeList");
let expenseList=document.getElementById("expenseList");

incomeList.innerHTML="";
expenseList.innerHTML="";

let totalInc=0;
let totalExp=0;

/* INGRESOS */

incomes.forEach((e,i)=>{
    let li=document.createElement("li");
    li.textContent=`${e.desc} - $${formatMoney(e.amount)}`;
    li.onclick=()=>{
        incomes.splice(i,1);
        saveData();
        render();
    };
    incomeList.appendChild(li);
    totalInc+=Number(e.amount);
});

/* GASTOS */

expenses.sort((a,b)=>b.amount-a.amount);

expenses.forEach((e,i)=>{
    let li=document.createElement("li");
    li.textContent=`${e.desc} (${e.category}) - $${formatMoney(e.amount)}`;
    li.onclick=()=>{
        expenses.splice(i,1);
        saveData();
        render();
    };
    expenseList.appendChild(li);
    totalExp+=Number(e.amount);
});

/* TOTALES */

document.getElementById("incomeTotal").textContent=formatMoney(totalInc);
document.getElementById("expenseTotal").textContent=formatMoney(totalExp);
document.getElementById("bIncome").textContent=formatMoney(totalInc);
document.getElementById("bExpense").textContent=formatMoney(totalExp);

/* PRESUPUESTO */

document.getElementById("budgetTotal").textContent=formatMoney(budget);
let disponible=budget-totalExp;
document.getElementById("budgetAvailable").textContent=formatMoney(disponible);

if(disponible<0){
    document.getElementById("budgetAvailable").style.color="red";
}else{
    document.getElementById("budgetAvailable").style.color="lime";
}

/* BALANCE */

let balance=totalInc-totalExp;
let balanceText=document.getElementById("balanceText");

if(balance>0){
    balanceText.textContent=`üü¢ Ganancia $${formatMoney(balance)}`;
    balanceText.style.color="lime";
}else if(balance<0){
    balanceText.textContent=`üî¥ P√©rdida $${formatMoney(Math.abs(balance))}`;
    balanceText.style.color="red";
}else{
    balanceText.textContent="‚ö™ En equilibrio";
    balanceText.style.color="white";
}

/* GRAFICO */

if(chart) chart.destroy();

chart=new Chart(document.getElementById("chart"),{
    type:"bar",
    data:{
        labels:["Ingresos","Gastos","Balance"],
        datasets:[{
            data:[totalInc,totalExp,balance]
        }]
    },
    options:{responsive:true}
});

}

function addIncome(){
    let desc=document.getElementById("incomeDesc");
    let amount=document.getElementById("incomeAmount");
    if(!desc.value || amount.value<=0) return;
    incomes.push({desc:desc.value,amount:Number(amount.value)});
    desc.value="";
    amount.value="";
    saveData();
    render();
}

function addExpense(){
    let desc=document.getElementById("descInput");
    let amount=document.getElementById("amountInput");
    let category=document.getElementById("categoryInput");
    if(!desc.value || amount.value<=0) return;
    expenses.push({desc:desc.value,amount:Number(amount.value),category:category.value});
    desc.value="";
    amount.value="";
    saveData();
    render();
}

function setBudget(){
    let input=document.getElementById("budgetInput");
    if(!input.value) return;
    budget=Number(input.value);
    input.value="";
    saveData();
    render();
}

/* ========= EXPORTAR ========= */

function exportExcel(){

let data=[
["GESTOR PERSONAL PRO - FORJAX"],
[],
["Ingresos"]
];

incomes.forEach(i=>data.push([i.desc,i.amount]));
data.push(["Total",incomes.reduce((a,b)=>a+Number(b.amount),0)]);
data.push([]);
data.push(["Gastos"]);
expenses.forEach(e=>data.push([e.desc,e.category,e.amount]));

let wb=XLSX.utils.book_new();
let ws=XLSX.utils.aoa_to_sheet(data);

Object.keys(ws).forEach(c=>{
if(typeof ws[c].v==="number"){
ws[c].z="#,##0";
}
});

XLSX.utils.book_append_sheet(wb,ws,"Resumen");
XLSX.writeFile(wb,"forjax_finanzas.xlsx");
}

render();

</script>

</body>
</html>
